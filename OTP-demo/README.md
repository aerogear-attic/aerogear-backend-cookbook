## OTP demo

A static page that uses keycloak otp to demo the otp clients

### Pre-requisites

This demo uses [Keycloak](http://keycloak.jboss.org/) to authenticate our client apps, so we need to deploy and configure the [Keycloak](http://keycloak.jboss.org/) server.

1. Download [Keycloak Appliance Distribution (version 1.0.4.Final)](http://docs.jboss.org/keycloak/docs/1.0.4.Final/userguide/html/server-installation.html#Appliance_install)
1. Start the server `KEYCLOAK_APPLIANCE_HOME/Keycloak/bin/standalone.sh -b 0.0.0.0`
1. Open [http://localhost:8080/auth/admin/index.html](http://localhost:8080/auth/admin/index.html)
1. Login using _admin_ / _admin_
1. Click on `Add realm`
1. import this our [realm configuration file](configuration/otp-realm.json)

### Build and Deploy

```
mvn clean install
mvn wildfly:deploy
```

### Using

After you login using _user_ / _password_ keycloak will create an qr code that you can scan with one of the clients

| Plataform  | Repository |
|:----------:|:--------------------------------------------|
| Android    | https://github.com/aerogear/aerogear-android-cookbook/tree/master/Two-Factor |
| iOS        | https://github.com/aerogear/aerogear-ios-cookbook/tree/master/Two-Factor     |
| Cordova    | https://github.com/aerogear/aerogear-cordova-cookbook/tree/master/otp-demo   |

After scanning the code type in the code generated by the app. Be sure that your client time and the server time are in sync
